// server.js
const express = require("express");
const cors = require("cors");
const app = express();
const PORT = 4000;

app.use(cors());
app.use(express.json());

let workshops = [
  {
    "Number": 1,
    "workshopName": "R",
    "startDate": "2023-03-12",
    "endDate": "2025-08-30",
    "ReportDate": "2025-09-01",
    "SubmitTime(BDTime)": "10:15:00",
    "EmpID": "EMP001",
    "EmpName": "Rafi",
    "WorkShop": "R",
    "OrderNumber": "ORD1001",
    "OrderType": "TypeA",
    "MterialCode": "MAT001",
    "MaterialName": "Steel Rod",
    "MaterialCNName": "钢棒",
    "TicketNo": "TCK001",
    "TicketProcess": "Processed",
    "TicketGenrationTime": "2025-08-30T09:30:00"
  },
  {
    "Number": 2,
    "workshopName": "ZM",
    "startDate": "2022-11-15",
    "endDate": "2025-06-25",
    "ReportDate": "2025-06-26",
    "SubmitTime(BDTime)": "11:20:00",
    "EmpID": "EMP002",
    "EmpName": "John Doe",
    "WorkShop": "ZM",
    "OrderNumber": "ORD1002",
    "OrderType": "TypeB",
    "MterialCode": "MAT002",
    "MaterialName": "Aluminum Sheet",
    "MaterialCNName": "铝板",
    "TicketNo": "TCK002",
    "TicketProcess": "Pending",
    "TicketGenrationTime": "2025-06-25T14:15:00"
  },
  {
    "Number": 3,
    "workshopName": "ZZ",
    "startDate": "2023-07-22",
    "endDate": "2025-09-05",
    "ReportDate": "2025-09-06",
    "SubmitTime(BDTime)": "09:45:00",
    "EmpID": "EMP003",
    "EmpName": "Sarah Ali",
    "WorkShop": "ZZ",
    "OrderNumber": "ORD1003",
    "OrderType": "TypeC",
    "MterialCode": "MAT003",
    "MaterialName": "Copper Wire",
    "MaterialCNName": "铜线",
    "TicketNo": "TCK003",
    "TicketProcess": "Processed",
    "TicketGenrationTime": "2025-09-05T16:00:00"
  },
  {
    "Number": 4,
    "workshopName": "G",
    "startDate": "2022-05-10",
    "endDate": "2025-08-18",
    "ReportDate": "2025-08-19",
    "SubmitTime(BDTime)": "08:30:00",
    "EmpID": "EMP004",
    "EmpName": "Michael Smith",
    "WorkShop": "G",
    "OrderNumber": "ORD1004",
    "OrderType": "TypeA",
    "MterialCode": "MAT004",
    "MaterialName": "Plastic Sheet",
    "MaterialCNName": "塑料板",
    "TicketNo": "TCK004",
    "TicketProcess": "Processed",
    "TicketGenrationTime": "2025-08-18T10:10:00"
  },
  {
    "Number": 5,
    "workshopName": "B",
    "startDate": "2023-01-08",
    "endDate": "2025-07-22",
    "ReportDate": "2025-07-23",
    "SubmitTime(BDTime)": "12:05:00",
    "EmpID": "EMP005",
    "EmpName": "Emily Johnson",
    "WorkShop": "B",
    "OrderNumber": "ORD1005",
    "OrderType": "TypeB",
    "MterialCode": "MAT005",
    "MaterialName": "Iron Plate",
    "MaterialCNName": "铁板",
    "TicketNo": "TCK005",
    "TicketProcess": "Pending",
    "TicketGenrationTime": "2025-07-22T13:20:00"
  },
  {
    "Number": 6,
    "workshopName": "ZS",
    "startDate": "2022-09-30",
    "endDate": "2025-05-19",
    "ReportDate": "2025-05-20",
    "SubmitTime(BDTime)": "14:30:00",
    "EmpID": "EMP006",
    "EmpName": "David Lee",
    "WorkShop": "ZS",
    "OrderNumber": "ORD1006",
    "OrderType": "TypeC",
    "MterialCode": "MAT006",
    "MaterialName": "Glass Panel",
    "MaterialCNName": "玻璃板",
    "TicketNo": "TCK006",
    "TicketProcess": "Processed",
    "TicketGenrationTime": "2025-05-19T15:50:00"
  },
  {
    "Number": 7,
    "workshopName": "R",
    "startDate": "2023-02-14",
    "endDate": "2025-09-01",
    "ReportDate": "2025-09-02",
    "SubmitTime(BDTime)": "10:50:00",
    "EmpID": "EMP007",
    "EmpName": "Sophia Turner",
    "WorkShop": "R",
    "OrderNumber": "ORD1007",
    "OrderType": "TypeA",
    "MterialCode": "MAT007",
    "MaterialName": "Rubber Sheet",
    "MaterialCNName": "橡胶板",
    "TicketNo": "TCK007",
    "TicketProcess": "Pending",
    "TicketGenrationTime": "2025-09-01T11:25:00"
  },
  {
    "Number": 8,
    "workshopName": "ZM",
    "startDate": "2022-06-17",
    "endDate": "2025-04-15",
    "ReportDate": "2025-04-16",
    "SubmitTime(BDTime)": "09:20:00",
    "EmpID": "EMP008",
    "EmpName": "Chris Evans",
    "WorkShop": "ZM",
    "OrderNumber": "ORD1008",
    "OrderType": "TypeB",
    "MterialCode": "MAT008",
    "MaterialName": "Aluminum Pipe",
    "MaterialCNName": "铝管",
    "TicketNo": "TCK008",
    "TicketProcess": "Processed",
    "TicketGenrationTime": "2025-04-15T10:40:00"
  },
  {
    "Number": 9,
    "workshopName": "ZZ",
    "startDate": "2023-05-09",
    "endDate": "2025-06-10",
    "ReportDate": "2025-06-11",
    "SubmitTime(BDTime)": "11:45:00",
    "EmpID": "EMP009",
    "EmpName": "Olivia Brown",
    "WorkShop": "ZZ",
    "OrderNumber": "ORD1009",
    "OrderType": "TypeC",
    "MterialCode": "MAT009",
    "MaterialName": "Copper Pipe",
    "MaterialCNName": "铜管",
    "TicketNo": "TCK009",
    "TicketProcess": "Pending",
    "TicketGenrationTime": "2025-06-10T12:30:00"
  },
  {
    "Number": 10,
    "workshopName": "G",
    "startDate": "2022-12-01",
    "endDate": "2025-07-20",
    "ReportDate": "2025-07-21",
    "SubmitTime(BDTime)": "08:15:00",
    "EmpID": "EMP010",
    "EmpName": "Liam Wilson",
    "WorkShop": "G",
    "OrderNumber": "ORD1010",
    "OrderType": "TypeA",
    "MterialCode": "MAT010",
    "MaterialName": "Plastic Tube",
    "MaterialCNName": "塑料管",
    "TicketNo": "TCK010",
    "TicketProcess": "Processed",
    "TicketGenrationTime": "2025-07-20T09:00:00"
  },
  {
    "Number": 11,
    "workshopName": "B",
    "startDate": "2023-04-27",
    "endDate": "2025-09-10",
    "ReportDate": "2025-09-11",
    "SubmitTime(BDTime)": "13:10:00",
    "EmpID": "EMP011",
    "EmpName": "Ava Davis",
    "WorkShop": "B",
    "OrderNumber": "ORD1011",
    "OrderType": "TypeB",
    "MterialCode": "MAT011",
    "MaterialName": "Steel Sheet",
    "MaterialCNName": "钢板",
    "TicketNo": "TCK011",
    "TicketProcess": "Pending",
    "TicketGenrationTime": "2025-09-10T14:30:00"
  },
  {
    "Number": 12,
    "workshopName": "ZS",
    "startDate": "2022-10-03",
    "endDate": "2025-08-07",
    "ReportDate": "2025-08-08",
    "SubmitTime(BDTime)": "10:40:00",
    "EmpID": "EMP012",
    "EmpName": "Noah Miller",
    "WorkShop": "ZS",
    "OrderNumber": "ORD1012",
    "OrderType": "TypeC",
    "MterialCode": "MAT012",
    "MaterialName": "Glass Tube",
    "MaterialCNName": "玻璃管",
    "TicketNo": "TCK012",
    "TicketProcess": "Processed",
    "TicketGenrationTime": "2025-08-07T11:20:00"
  },
  {
    "Number": 13,
    "workshopName": "R",
    "startDate": "2023-08-19",
    "endDate": "2025-07-02",
    "ReportDate": "2025-07-03",
    "SubmitTime(BDTime)": "12:25:00",
    "EmpID": "EMP013",
    "EmpName": "Emma Garcia",
    "WorkShop": "R",
    "OrderNumber": "ORD1013",
    "OrderType": "TypeA",
    "MterialCode": "MAT013",
    "MaterialName": "Rubber Pipe",
    "MaterialCNName": "橡胶管",
    "TicketNo": "TCK013",
    "TicketProcess": "Pending",
    "TicketGenrationTime": "2025-07-02T13:15:00"
  },
  {
    "Number": 14,
    "workshopName": "ZM",
    "startDate": "2022-03-25",
    "endDate": "2025-06-15",
    "ReportDate": "2025-06-16",
    "SubmitTime(BDTime)": "09:30:00",
    "EmpID": "EMP014",
    "EmpName": "Ethan Martinez",
    "WorkShop": "ZM",
    "OrderNumber": "ORD1014",
    "OrderType": "TypeB",
    "MterialCode": "MAT014",
    "MaterialName": "Aluminum Rod",
    "MaterialCNName": "铝棒",
    "TicketNo": "TCK014",
    "TicketProcess": "Processed",
    "TicketGenrationTime": "2025-06-15T10:50:00"
  },
  {
    "Number": 15,
    "workshopName": "ZZ",
    "startDate": "2023-09-10",
    "endDate": "2025-08-28",
    "ReportDate": "2025-08-29",
    "SubmitTime(BDTime)": "11:55:00",
    "EmpID": "EMP015",
    "EmpName": "Isabella Anderson",
    "WorkShop": "ZZ",
    "OrderNumber": "ORD1015",
    "OrderType": "TypeC",
    "MterialCode": "MAT015",
    "MaterialName": "Copper Sheet",
    "MaterialCNName": "铜板",
    "TicketNo": "TCK015",
    "TicketProcess": "Pending",
    "TicketGenrationTime": "2025-08-28T12:40:00"
  },
  {
    "Number": 16,
    "workshopName": "G",
    "startDate": "2022-07-14",
    "endDate": "2025-05-30",
    "ReportDate": "2025-05-31",
    "SubmitTime(BDTime)": "08:50:00",
    "EmpID": "EMP016",
    "EmpName": "Alexander Thomas",
    "WorkShop": "G",
    "OrderNumber": "ORD1016",
    "OrderType": "TypeA",
    "MterialCode": "MAT016",
    "MaterialName": "Plastic Panel",
    "MaterialCNName": "塑料板",
    "TicketNo": "TCK016",
    "TicketProcess": "Processed",
    "TicketGenrationTime": "2025-05-30T09:35:00"
  },
  {
    "Number": 17,
    "workshopName": "B",
    "startDate": "2023-01-19",
    "endDate": "2025-09-08",
    "ReportDate": "2025-09-09",
    "SubmitTime(BDTime)": "13:15:00",
    "EmpID": "EMP017",
    "EmpName": "Mia Scott",
    "WorkShop": "B",
    "OrderNumber": "ORD1017",
    "OrderType": "TypeB",
    "MterialCode": "MAT017",
    "MaterialName": "Steel Pipe",
    "MaterialCNName": "钢管",
    "TicketNo": "TCK017",
    "TicketProcess": "Pending",
    "TicketGenrationTime": "2025-09-08T14:20:00"
  },
  {
    "Number": 18,
    "workshopName": "ZS",
    "startDate": "2022-11-05",
    "endDate": "2025-07-12",
    "ReportDate": "2025-07-13",
    "SubmitTime(BDTime)": "10:20:00",
    "EmpID": "EMP018",
    "EmpName": "Benjamin Harris",
    "WorkShop": "ZS",
    "OrderNumber": "ORD1018",
    "OrderType": "TypeC",
    "MterialCode": "MAT018",
    "MaterialName": "Glass Sheet",
    "MaterialCNName": "玻璃板",
    "TicketNo": "TCK018",
    "TicketProcess": "Processed",
    "TicketGenrationTime": "2025-07-12T11:05:00"
  },
  {
    "Number": 19,
    "workshopName": "R",
    "startDate": "2023-06-23",
    "endDate": "2025-09-04",
    "ReportDate": "2025-09-05",
    "SubmitTime(BDTime)": "12:35:00",
    "EmpID": "EMP019",
    "EmpName": "Charlotte Lewis",
    "WorkShop": "R",
    "OrderNumber": "ORD1019",
    "OrderType": "TypeA",
    "MterialCode": "MAT019",
    "MaterialName": "Rubber Panel",
    "MaterialCNName": "橡胶板",
    "TicketNo": "TCK019",
    "TicketProcess": "Pending",
    "TicketGenrationTime": "2025-09-04T13:20:00"
  },
  {
    "Number": 20,
    "workshopName": "ZM",
    "startDate": "2022-04-11",
    "endDate": "2025-06-27",
    "ReportDate": "2025-06-28",
    "SubmitTime(BDTime)": "09:10:00",
    "EmpID": "EMP020",
    "EmpName": "Henry Walker",
    "WorkShop": "ZM",
    "OrderNumber": "ORD1020",
    "OrderType": "TypeB",
    "MterialCode": "MAT020",
    "MaterialName": "Aluminum Panel",
    "MaterialCNName": "铝板",
    "TicketNo": "TCK020",
    "TicketProcess": "Processed",
    "TicketGenrationTime": "2025-06-27T10:00:00"
  }

];

// GET all workshops
app.get("/api/workshops", (req, res) => {
  res.json(workshops);
});

// POST new workshop
app.post("/api/workshops", (req, res) => {
  const newWorkshop = { id: Date.now(), ...req.body };
  workshops.push(newWorkshop);
  res.status(201).json(newWorkshop);
});

// DELETE workshop
app.delete("/api/workshops/:id", (req, res) => {
  const id = Number(req.params.id);
  workshops = workshops.filter(w => w.id !== id);
  res.json({ message: "Deleted successfully" });
});

app.listen(PORT, () => {
  console.log(`API running on http://localhost:${PORT}`);
});
